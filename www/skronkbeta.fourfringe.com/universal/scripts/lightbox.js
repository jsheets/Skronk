Squarespace.Lightbox={LIGHTBOX_BORDER_WIDTH:14,LIGHTBOX_DISPLAY_SPEED:0.2,ARROW_INACTIVE_OPACITY:0.8,HOVER_FADE_OPACITY:0.8,HOVER_FADE_SPEED:0.1,HOVER_GROWTH_FACTOR:0.04,HOVER_GROWTH_FACTOR_INLINE:0.06,HOVER_SINK_SPEED:0.15,HOVER_GROWTH_SPEED:0.15,DESC_MIN_WIDTH:500,THUMBNIAL_HOVER_FORMAT_NONE:1,THUMBNIAL_HOVER_FORMAT_GROW:2,THUMBNIAL_HOVER_FORMAT_FADE:3,thumbnailHover:1,LIGHTBOX_MODE_NONE:1,LIGHTBOX_MODE_JAVASCRIPT:2,lightboxMode:1,THUMBNAIL_LOAD_NONE:1,THUMBNAIL_LOAD_FADEIN_RANDOMIZED:2,thumbnailLoading:1,INLINE_TRANSITION_NONE:1,INLINE_TRANSITION_FADE:2,INLINE_TRANSITION_SLIDE:3,fullImageViewMode:1,MAIN_IMAGE_LIGHTBOX_WINDOW:1,MAIN_IMAGE_POPUP_WINDOW:2,mainImageClick:1,imageBrowserMode:0,navigationCurrentPage:0,ieOpacityHack:1,ie9OpacityOverride:false,showTitles:false,showDescriptions:false,photosByLinkHref:{},photosByIndex:{},photosByImageId:{},currentLightboxPhoto:null,isLoaded:false,maxIndex:0,urlFix:function(A){return(A.replace(new RegExp("&amp;","g"),"&"));},ieBackgroundFix:function(B,A){if((YAHOO.env.ua.ie>0)&&SSLightbox.ieOpacityHack){var C=null;if(YAHOO.util.Dom.hasClass(B.parentNode,"thumbnail-wrapper")){C=B.parentNode;}if(YAHOO.util.Dom.hasClass(B.parentNode.parentNode,"thumbnail-wrapper")){C=B.parentNode.parentNode;}if(C){if(A){YAHOO.util.Dom.addClass(C,"thumbnail-wrapper-fixed");}else{YAHOO.util.Dom.removeClass(C,"thumbnail-wrapper-fixed");}}}},presentThumbnail:function(K,R,F,I,J,L,Q,B,H,O,P,C){var C=C||false;var G=document.location.href.substring(8).indexOf("/");var N=document.location.href.substring(0,G+8);var A=new Object();A.setName=K;A.objContainerName=R;A.imageId=F;A.title=O;A.description=P;A.rawObject=null;A.realIndex=SSLightbox.maxIndex;A.isFullImgLoading=false;A.pageUrl=N+I;if(J){A.imgNavigationThumbnailUrl=N+SSLightbox.urlFix(J);}if(L){A.imgThumbnailUrl=N+SSLightbox.urlFix(L);}if(Q){A.imgGalleryUrl=N+SSLightbox.urlFix(Q);}if(B){A.imgFullUrl=N+SSLightbox.urlFix(B);}if(H){A.popupUrl=N+SSLightbox.urlFix(H);}SSLightbox.photosByIndex[A.realIndex]=A;SSLightbox.photosByImageId[A.imageId]=A;var M=function(){var S=document.getElementById(R);if(S){var U=S.getElementsByTagName("a");for(var V=0;V<U.length;++V){YAHOO.util.Dom.setStyle(U[V],"-moz-outline","0");if(U[V].rel!=null&&U[V].rel=="lightbox"){SSLightbox.photosByLinkHref[U[V].href]=A;if(SSLightbox.fullImageViewMode!=SSLightbox.INLINE_TRANSITION_NONE){YAHOO.util.Event.addListener(U[V],"click",SSLightbox.transitionMainImage);}else{if(SSLightbox.lightboxMode==SSLightbox.LIGHTBOX_MODE_JAVASCRIPT){YAHOO.util.Event.addListener(U[V],"click",SSLightbox.loadLightboxImage);}}}}var W=S.getElementsByTagName("img");if(W.length>0){var T=W[0];T.imgData=A;T.isLoaded=false;YAHOO.util.Event.addListener(T,"mouseover",SSLightbox.thumbnailMouseover);SSLightbox.thumbnailLoad(T);}}};if(C){M();}else{YAHOO.util.Event.onDOMReady(M);}SSLightbox.maxIndex++;},transitionMainImage:function(F,A){if(!A){YAHOO.util.Event.stopEvent(F);A=SSLightbox.photosByLinkHref[SSLightbox.urlFix(this.href)];}currentPictureId=A.imageId;el=document.createElement("img");var B=document.getElementById("content");if(typeof (SSLightbox.mainImage)=="undefined"){SSLightbox.mainImage=document.getElementById("main-picture");SSLightbox.originalMainImage=document.getElementById("main-picture");if(YAHOO.env.ua.ie>0&&YAHOO.env.ua.ie<7){document.getElementById("main-picture").style.position="absolute";}YAHOO.util.Event.addListener(window,"resize",function(){YAHOO.util.Dom.setXY(SSLightbox.mainImage,YAHOO.util.Dom.getXY(SSLightbox.originalMainImage));});}el.style.position="absolute";el.style.left="-10000px";el.style.top="-5000px";el.imgData=SSLightbox.photosByImageId[currentPictureId];document.body.appendChild(el);var C=new YAHOO.util.Anim(SSLightbox.mainImage,{opacity:{to:0.75}},SSLightbox.HOVER_SINK_SPEED+0.1);C.animate();YAHOO.util.Event.addListener(el,"load",function(){YAHOO.util.Dom.setStyle(this,"padding-top",YAHOO.util.Dom.getStyle(SSLightbox.mainImage,"padding-top"));YAHOO.util.Dom.setStyle(this,"padding-left",YAHOO.util.Dom.getStyle(SSLightbox.mainImage,"padding-left"));YAHOO.util.Dom.setStyle(this,"padding-bottom",YAHOO.util.Dom.getStyle(SSLightbox.mainImage,"padding-bottom"));YAHOO.util.Dom.setStyle(this,"padding-right",YAHOO.util.Dom.getStyle(SSLightbox.mainImage,"padding-right"));this.className=SSLightbox.mainImage.className;YAHOO.util.Dom.setStyle(this,"cursor","pointer");YAHOO.util.Dom.setStyle(this,"opacity","0");YAHOO.util.Dom.setXY(this,YAHOO.util.Dom.getXY(SSLightbox.originalMainImage));var H=new YAHOO.util.Anim(SSLightbox.mainImage,{opacity:{to:0}},SSLightbox.HOVER_SINK_SPEED+0.1);H.onComplete.subscribe(function(){if(this.getEl().id!="main-picture"){this.getEl().style.display="none";this.getEl().parentNode.removeChild(this.getEl());}else{D.setStyle("main-picture","height",SSLightbox.mainImage.height);}SSLightbox.adjustFloatingElementPositions();});H.animate();YAHOO.util.Event.addListener(this,"click",function(){SSLightbox.showFullImage();});var H=new YAHOO.util.Anim(this,{opacity:{to:1}},SSLightbox.HOVER_SINK_SPEED);H.animate();new YAHOO.util.Anim("main-picture",{height:{to:this.height}},SSLightbox.HOVER_SINK_SPEED).animate();new YAHOO.util.Anim("main-picture",{width:{to:this.width}},SSLightbox.HOVER_SINK_SPEED).animate();var I=document.getElementById("main-picture-title");if(I){I.innerHTML=A.title;}I=document.getElementById("main-picture-description-title");if(I){I.innerHTML=A.title;}I=document.getElementById("main-picture-description");if(I){I.innerHTML=A.description;}I=document.getElementById("main-picture-wrapper");if(I){YAHOO.util.Dom.setStyle(I,"height",(this.offsetHeight)+"px");YAHOO.util.Dom.setStyle(I,"width",(this.offsetWidth)+"px");SSLightbox.ieBackgroundFix(document.getElementById("main-picture"),true);}this.title=A.title;var G=document.title.lastIndexOf(SSLightbox.mainImage.title);if(G!=-1){document.title=document.title.substring(0,G)+A.title;}SSLightbox.mainImage=this;});el.src=A.imgGalleryUrl;},showFullImage:function(){SSLightbox.loadLightboxImage(null,SSLightbox.photosByImageId[currentPictureId]);},thumbnailLoad:function(A){var B;B=document.createElement("img");B.style.position="absolute";B.style.left="-10000px";B.style.top="-5000px";YAHOO.util.Event.addListener(B,"load",function(){if(SSLightbox.thumbnailLoading==SSLightbox.THUMBNAIL_LOAD_FADEIN_RANDOMIZED){YAHOO.util.Dom.setStyle(A,"opacity","0");A.src=this.src;var C=new YAHOO.util.Anim(A,{opacity:{to:1}},(SSLightbox.thumbnailLoading==SSLightbox.THUMBNAIL_LOAD_FADEIN_ORDERED?0.3:Math.random()*1.5));C.onComplete.subscribe(function(){this.getEl().isLoaded=true;});C.animate();}else{A.src=this.src;A.isLoaded=true;}});B.src=(SSLightbox.imageBrowserMode?A.imgData.imgNavigationThumbnailUrl:A.imgData.imgThumbnailUrl);document.body.appendChild(B);},thumbnailMouseover:function(G){if(SSLightbox.imageBrowserMode){var C=SSLightbox.navigationCurrentPage*SSLightbox.navigationThumbnailsPerPage;var A=(SSLightbox.navigationCurrentPage+1)*SSLightbox.navigationThumbnailsPerPage;if(this.imgData.realIndex<C||this.imgData.realIndex>=A){return ;}}if(SSLightbox.thumbnailHover==SSLightbox.THUMBNIAL_HOVER_FORMAT_FADE){if(typeof (this.isLoaded)=="undefined"||!this.isLoaded){return ;}SSLightbox.ieBackgroundFix(this,true);var B=new YAHOO.util.Anim(this,{opacity:{to:SSLightbox.HOVER_FADE_OPACITY}},SSLightbox.HOVER_FADE_SPEED);B.animate();YAHOO.util.Event.addListener(this,"mouseout",SSLightbox.thumbnailMouseout);}else{if(SSLightbox.thumbnailHover==SSLightbox.THUMBNIAL_HOVER_FORMAT_GROW){el=document.createElement("img");var F=YAHOO.util.Dom.getXY(this);el.style.position="absolute";el.style.left=F[0]+"px";el.style.top=F[1]+"px";el.style.cursor="pointer";el.id="anim"+this.imgData.imageId;el.originalLeft=F[0];el.originalTop=F[1];el.imgData=this.imgData;el.isDone=false;el.killTimerId=window.setTimeout('SSLightbox.thumbnailMouseout(null, document.getElementById("anim'+this.imgData.imageId+'"));',200);el.src=this.src;el.originalWidth=this.width;el.originalHeight=this.height;el.width=this.width;el.height=this.height;el.style.padding=this.style.padding;el.style.border=this.style.border;el.className=this.className;YAHOO.util.Event.addListener(el,"mouseout",SSLightbox.thumbnailMouseout);YAHOO.util.Event.addListener(el,"mousemove",function(){window.clearTimeout(el.killTimerId);});YAHOO.util.Event.addListener(el,"click",function(){if(SSLightbox.fullImageViewMode!=SSLightbox.INLINE_TRANSITION_NONE){SSLightbox.transitionMainImage(null,this.imgData);}else{if(SSLightbox.lightboxMode==SSLightbox.LIGHTBOX_MODE_JAVASCRIPT){SSLightbox.loadLightboxImage(null,this.imgData);}else{document.location.href=this.imgData.pageUrl;}}});document.body.appendChild(el);var H;if(SSLightbox.imageBrowserMode){H=el.originalWidth*SSLightbox.HOVER_GROWTH_FACTOR_INLINE;}else{H=el.originalWidth*SSLightbox.HOVER_GROWTH_FACTOR;}el.anim=new YAHOO.util.Anim(el,{left:{to:el.originalLeft-H},top:{to:el.originalTop-H},width:{to:el.originalWidth+(H*2)},height:{to:el.originalHeight+(H*2)}},SSLightbox.HOVER_GROWTH_SPEED,YAHOO.util.Easing.easeOut);el.anim.animate();}}},thumbnailMouseout:function(C,F){var B=(C?this:F);if(SSLightbox.thumbnailHover==SSLightbox.THUMBNIAL_HOVER_FORMAT_FADE){var A=new YAHOO.util.Anim(B,{opacity:{to:1}},0.1);A.animate();}else{if(SSLightbox.thumbnailHover==SSLightbox.THUMBNIAL_HOVER_FORMAT_GROW){if(B==null||typeof (B.isDone)=="undefined"||B.isDone){return ;}if(B.anim.isAnimated()){B.anim.stop();}var A=new YAHOO.util.Anim(B,{left:{to:B.originalLeft},top:{to:B.originalTop},width:{to:B.originalWidth},height:{to:B.originalHeight}},SSLightbox.HOVER_SINK_SPEED,YAHOO.util.Easing.easeOut);A.onStart.subscribe(function(){this.getEl().isDone=true;});A.onComplete.subscribe(function(){document.body.removeChild(this.getEl());});A.animate();}}},init:function(){var A=document.getElementsByTagName("body").item(0);this.titleBox=document.createElement("div");this.titleBox.setAttribute("id","sslightbox_title");this.titleBox.className="squarespace-lightbox-title";YAHOO.util.Dom.setStyle(this.titleBox,"color","#e9e9e9");YAHOO.util.Dom.setStyle(this.titleBox,"font","28px Arial");YAHOO.util.Dom.setStyle(this.titleBox,"position","absolute");YAHOO.util.Dom.setStyle(this.titleBox,"top","0");YAHOO.util.Dom.setStyle(this.titleBox,"left","0");YAHOO.util.Dom.setStyle(this.titleBox,"z-index","950");YAHOO.util.Dom.setStyle(this.titleBox,"display","none");YAHOO.util.Dom.setStyle(this.titleBox,"cursor","pointer");YAHOO.util.Dom.setStyle(this.titleBox,"opacity","0");A.appendChild(this.titleBox);this.descriptionBox=document.createElement("div");this.descriptionBox.setAttribute("id","sslightbox_description");this.titleBox.className="squarespace-lightbox-description";YAHOO.util.Dom.setStyle(this.descriptionBox,"color","#e9e9e9");YAHOO.util.Dom.setStyle(this.descriptionBox,"position","absolute");YAHOO.util.Dom.setStyle(this.descriptionBox,"font","14px/20px Arial");YAHOO.util.Dom.setStyle(this.descriptionBox,"top","0");YAHOO.util.Dom.setStyle(this.descriptionBox,"left","0");YAHOO.util.Dom.setStyle(this.descriptionBox,"z-index","950");YAHOO.util.Dom.setStyle(this.descriptionBox,"display","none");YAHOO.util.Dom.setStyle(this.descriptionBox,"cursor","pointer");YAHOO.util.Dom.setStyle(this.descriptionBox,"opacity","0");A.appendChild(this.descriptionBox);this.overlay=document.createElement("div");this.overlay.setAttribute("id","sslightbox_overlay");this.overlay.setAttribute("title","Click to Close");YAHOO.util.Dom.setStyle(this.overlay,"background","#000");YAHOO.util.Dom.setStyle(this.overlay,"width","100%");YAHOO.util.Dom.setStyle(this.overlay,"height","100%");YAHOO.util.Dom.setStyle(this.overlay,"position","absolute");YAHOO.util.Dom.setStyle(this.overlay,"top","0");YAHOO.util.Dom.setStyle(this.overlay,"left","0");YAHOO.util.Dom.setStyle(this.overlay,"z-index","900");YAHOO.util.Dom.setStyle(this.overlay,"display","none");YAHOO.util.Dom.setStyle(this.overlay,"cursor","pointer");YAHOO.util.Dom.setStyle(this.overlay,"opacity","0");A.appendChild(this.overlay);this.previmg=document.createElement("a");this.previmg.setAttribute("id","sslightbox_previmg");this.previmg.setAttribute("href","javascript:SSLightbox.switchImage(-1);");YAHOO.util.Dom.setStyle(this.previmg,"background-color","transparent");YAHOO.util.Dom.setStyle(this.previmg,"background-image","url(/universal/images/overlay-arrow-left.png)");YAHOO.util.Dom.setStyle(this.previmg,"position","absolute");YAHOO.util.Dom.setStyle(this.previmg,"display","none");YAHOO.util.Dom.setStyle(this.previmg,"width","35px");YAHOO.util.Dom.setStyle(this.previmg,"height","50px");YAHOO.util.Dom.setStyle(this.previmg,"left","8px");YAHOO.util.Dom.setStyle(this.previmg,"z-index","950");YAHOO.util.Dom.setStyle(this.previmg,"cursor","pointer");YAHOO.util.Dom.setStyle(this.previmg,"opacity","0");YAHOO.util.Dom.setStyle(this.previmg,"-moz-outline","0");A.appendChild(this.previmg);this.nextimg=document.createElement("a");this.nextimg.setAttribute("id","sslightbox_nextimg");this.nextimg.setAttribute("href","javascript:SSLightbox.switchImage(1);");YAHOO.util.Dom.setStyle(this.nextimg,"background-color","transparent");YAHOO.util.Dom.setStyle(this.nextimg,"background-image","url(/universal/images/overlay-arrow-right.png)");YAHOO.util.Dom.setStyle(this.nextimg,"position","absolute");YAHOO.util.Dom.setStyle(this.nextimg,"display","none");YAHOO.util.Dom.setStyle(this.nextimg,"width","35px");YAHOO.util.Dom.setStyle(this.nextimg,"height","50px");YAHOO.util.Dom.setStyle(this.nextimg,"right","8px");YAHOO.util.Dom.setStyle(this.nextimg,"z-index","950");YAHOO.util.Dom.setStyle(this.nextimg,"cursor","pointer");YAHOO.util.Dom.setStyle(this.nextimg,"opacity","0");YAHOO.util.Dom.setStyle(this.nextimg,"-moz-outline","0");A.appendChild(this.nextimg);this.imgholder=document.createElement("div");this.imgholder.setAttribute("id","sslightbox_imgholder");YAHOO.util.Dom.setStyle(this.imgholder,"position","absolute");YAHOO.util.Dom.setStyle(this.imgholder,"top","0px");YAHOO.util.Dom.setStyle(this.imgholder,"left","0px");YAHOO.util.Dom.setStyle(this.imgholder,"background-color","#fff");YAHOO.util.Dom.setStyle(this.imgholder,"opacity","0");YAHOO.util.Dom.setStyle(this.imgholder,"z-index","950");YAHOO.util.Dom.setStyle(this.imgholder,"width","200px");YAHOO.util.Dom.setStyle(this.imgholder,"height","200px");A.appendChild(this.imgholder);this.imgwrapper=document.createElement("span");this.imgwrapper.setAttribute("id","sslightbox_imgwrapper");this.imgwrapper.setAttribute("className","thumbnail-wrapper");YAHOO.util.Dom.setStyle(this.imgwrapper,"position","absolute");YAHOO.util.Dom.setStyle(this.imgwrapper,"top",SSLightbox.LIGHTBOX_BORDER_WIDTH+"px");YAHOO.util.Dom.setStyle(this.imgwrapper,"left",SSLightbox.LIGHTBOX_BORDER_WIDTH+"px");this.imgholder.appendChild(this.imgwrapper);this.loadimg=document.createElement("img");this.loadimg.setAttribute("id","sslightbox_loadimg");this.loadimg.src="/universal/images/manager/loading.gif";YAHOO.util.Dom.setStyle(this.loadimg,"position","absolute");YAHOO.util.Dom.setStyle(this.loadimg,"opacity","0");YAHOO.util.Dom.setStyle(this.loadimg,"width","48px");YAHOO.util.Dom.setStyle(this.loadimg,"height","54px");YAHOO.util.Dom.setStyle(this.loadimg,"z-index","990");YAHOO.util.Dom.setStyle(this.loadimg,"padding","0");YAHOO.util.Dom.setStyle(this.loadimg,"margin","0");YAHOO.util.Dom.setStyle(this.loadimg,"border","0");YAHOO.util.Dom.setStyle(this.loadimg,"cursor","pointer");A.appendChild(this.loadimg);this.img=document.createElement("img");this.img.setAttribute("id","sslightbox_img");YAHOO.util.Dom.setStyle(this.img,"position","absolute");YAHOO.util.Dom.setStyle(this.img,"top","0px");YAHOO.util.Dom.setStyle(this.img,"left","0px");YAHOO.util.Dom.setStyle(this.img,"opacity","0");YAHOO.util.Dom.setStyle(this.img,"display","none");YAHOO.util.Dom.setStyle(this.img,"z-index","995");YAHOO.util.Dom.setStyle(this.img,"padding","0");YAHOO.util.Dom.setStyle(this.img,"margin","0");YAHOO.util.Dom.setStyle(this.img,"border","0");YAHOO.util.Dom.setStyle(this.img,"cursor","pointer");this.imgwrapper.appendChild(this.img);YAHOO.util.Dom.setXY(this.imgholder,[(YAHOO.util.Dom.getViewportWidth()/2)-(parseInt(YAHOO.util.Dom.getStyle(YAHOO.util.Dom.get("sslightbox_imgholder"),"width"))/2)+YAHOO.util.Dom.getDocumentScrollLeft(),(YAHOO.util.Dom.getViewportHeight()/2)-(parseInt(YAHOO.util.Dom.getStyle(YAHOO.util.Dom.get("sslightbox_imgholder"),"height"))/2)+YAHOO.util.Dom.getDocumentScrollTop()]);YAHOO.util.Dom.setXY(this.loadimg,[(YAHOO.util.Dom.getViewportWidth()/2)-(parseInt(YAHOO.util.Dom.getStyle(YAHOO.util.Dom.get("sslightbox_loadimg"),"width"))/2)+YAHOO.util.Dom.getDocumentScrollLeft(),(YAHOO.util.Dom.getViewportHeight()/2)-(parseInt(YAHOO.util.Dom.getStyle(YAHOO.util.Dom.get("sslightbox_loadimg"),"height"))/2)+YAHOO.util.Dom.getDocumentScrollTop()]);YAHOO.util.Dom.setStyle(this.imgholder,"display","none");YAHOO.util.Dom.setStyle(this.loadimg,"display","none");YAHOO.util.Event.addListener(this.overlay,"click",this.close);YAHOO.util.Event.addListener(this.loadimg,"click",this.close);YAHOO.util.Event.addListener(this.imgholder,"click",this.close);YAHOO.util.Event.addListener(this.img,"click",this.close);YAHOO.util.Event.addListener(this.nextimg,"mouseover",function(){new YAHOO.util.Anim("sslightbox_nextimg",{opacity:{to:1}},SSLightbox.LIGHTBOX_DISPLAY_SPEED).animate();});YAHOO.util.Event.addListener(this.nextimg,"mouseout",function(){new YAHOO.util.Anim("sslightbox_nextimg",{opacity:{to:SSLightbox.ARROW_INACTIVE_OPACITY}},SSLightbox.LIGHTBOX_DISPLAY_SPEED).animate();});YAHOO.util.Event.addListener(this.previmg,"mouseover",function(){new YAHOO.util.Anim("sslightbox_previmg",{opacity:{to:1}},SSLightbox.LIGHTBOX_DISPLAY_SPEED).animate();});YAHOO.util.Event.addListener(this.previmg,"mouseout",function(){new YAHOO.util.Anim("sslightbox_previmg",{opacity:{to:SSLightbox.ARROW_INACTIVE_OPACITY}},SSLightbox.LIGHTBOX_DISPLAY_SPEED).animate();});this.scrollrightimg=document.createElement("a");this.scrollrightimg.setAttribute("id","sslightbox_scrollrightimg");this.scrollrightimg.setAttribute("href","javascript:SSLightbox.scrollThumbnails(1);");this.scrollrightimg.className="picture-gallery-thumbnail-scroll-right";YAHOO.util.Dom.setStyle(this.scrollrightimg,"position","absolute");YAHOO.util.Dom.setStyle(this.scrollrightimg,"display","block");YAHOO.util.Dom.setStyle(this.scrollrightimg,"z-index","800");YAHOO.util.Dom.setStyle(this.scrollrightimg,"top","-5000px");YAHOO.util.Dom.setStyle(this.scrollrightimg,"left","-10000px");A.appendChild(this.scrollrightimg);this.scrollleftimg=document.createElement("a");this.scrollleftimg.setAttribute("id","sslightbox_scrollleftimg");this.scrollleftimg.setAttribute("href","javascript:SSLightbox.scrollThumbnails(-1);");this.scrollleftimg.className="picture-gallery-thumbnail-scroll-left";YAHOO.util.Dom.setStyle(this.scrollleftimg,"position","absolute");YAHOO.util.Dom.setStyle(this.scrollleftimg,"display","block");YAHOO.util.Dom.setStyle(this.scrollleftimg,"z-index","800");YAHOO.util.Dom.setStyle(this.scrollleftimg,"top","-5000px");YAHOO.util.Dom.setStyle(this.scrollleftimg,"left","-10000px");A.appendChild(this.scrollleftimg);this.navigationContainer=document.getElementById("gallery-image-navigation");if(!YAHOO.env.ua.ie||YAHOO.env.ua.ie>7){YAHOO.util.Event.addListener(window,"resize",function(){SSLightbox.adjustFloatingElementPositions();});}this.adjustFloatingElementPositions();},adjustFloatingElementPositions:function(){D.setStyle("gallery-image-navigation","width",this.galleryImageNavigationWidth+"px");if(this.currentLightboxPhoto){this.presentImage(this.currentLightboxPhoto);}if(this.navigationContainer){var B=YAHOO.util.Dom.getXY(this.navigationContainer);var F=YAHOO.util.Dom.getXY(this.photosByIndex[0].objContainerName);var C=(this.navigationCurrentPage!=0);var A=((this.navigationThumbnailsPerPage*(this.navigationCurrentPage+1))<(this.maxIndex-1));YAHOO.util.Dom.setXY(this.scrollleftimg,(!C?[-10000,-5000]:[(B[0]-this.scrollleftimg.offsetWidth-parseInt(YAHOO.util.Dom.getStyle(this.scrollleftimg,"margin-right"))),F[1]]));YAHOO.util.Dom.setXY(this.scrollrightimg,(!A?[-10000,-5000]:[(B[0]+this.navigationContainer.offsetWidth+parseInt(YAHOO.util.Dom.getStyle(this.scrollrightimg,"margin-left"))),F[1]]));}},setNavigationParameters:function(B,C,A){this.galleryImageNavigationWidth=parseInt(D.get("content").offsetWidth);this.galleryImageNavigationWidth-=parseInt(D.getStyle("content","padding-left"));this.galleryImageNavigationWidth-=parseInt(D.getStyle("content","padding-right"));this.navigationThumbnailSize=C;this.navigationThumbnailPadding=A;this.navigationThumbnailsPerPage=parseInt(this.galleryImageNavigationWidth/(this.navigationThumbnailSize+this.navigationThumbnailPadding));this.imageBrowserMode=true;YAHOO.util.Dom.setStyle(this.scrollrightimg,"height",C+"px");YAHOO.util.Dom.setStyle(this.scrollleftimg,"height",C+"px");E.on(window,"load",function(){SSLightbox.adjustFloatingElementPositions();});},scrollThumbnails:function(A){if((A==-1&&this.navigationCurrentPage==0)||(A==1&&(this.navigationThumbnailsPerPage*(this.navigationCurrentPage+1))>(this.maxIndex-1))){return ;}this.navigationCurrentPage+=A;var B=(this.navigationThumbnailsPerPage)*(this.navigationThumbnailSize+this.navigationThumbnailPadding)*(this.navigationCurrentPage);new YAHOO.util.Anim("gallery-image-navigation-inner",{marginLeft:{to:-B}},0.2,YAHOO.util.Easing.easeOutStrong).animate();var C=D.get("gallery-image-navigation-inner-preview");if(C!=null){new YAHOO.util.Anim("gallery-image-navigation-inner-preview",{marginLeft:{to:-B}},0.2,YAHOO.util.Easing.easeOutStrong).animate();}this.adjustFloatingElementPositions();},isLastImage:function(A){if(!A){A=this.currentLightboxPhoto;}return(A.realIndex==(this.maxIndex-1));},isFirstImage:function(A){if(!A){A=this.currentLightboxPhoto;}return(A.realIndex==0);},switchImage:function(A){if(A==1&&!this.isLastImage()){SSLightbox.loadLightboxImage(null,SSLightbox.photosByIndex[this.currentLightboxPhoto.realIndex+1]);}else{if(A==-1&&!this.isFirstImage()){SSLightbox.loadLightboxImage(null,SSLightbox.photosByIndex[this.currentLightboxPhoto.realIndex-1]);}}},presentImage:function(C){if(C.rawObject!=null){YAHOO.util.Dom.get("sslightbox_img").src=C.rawObject.src;SSLightbox.scaleImage(C);var B=C.rawObject;SSLightbox.titleBox.innerHTML=C.title;SSLightbox.descriptionBox.innerHTML=C.description;if(this.showTitles||this.showDescriptions){var A=(B.scaledWidth+SSLightbox.LIGHTBOX_BORDER_WIDTH*2);if(A<SSLightbox.DESC_MIN_WIDTH){A=SSLightbox.DESC_MIN_WIDTH;}var F=null;YAHOO.util.Dom.setStyle([SSLightbox.descriptionBox,SSLightbox.titleBox],"display","block");YAHOO.util.Dom.setStyle([SSLightbox.descriptionBox,SSLightbox.titleBox],"width",A+"px");SSLightbox.scaleImage(C);YAHOO.util.Dom.setStyle([SSLightbox.descriptionBox,SSLightbox.titleBox],"width",A+"px");}var I=[parseInt(YAHOO.util.Dom.getViewportWidth()/2)-(B.scaledWidth/2)+YAHOO.util.Dom.getDocumentScrollLeft()-SSLightbox.LIGHTBOX_BORDER_WIDTH,parseInt(YAHOO.util.Dom.getViewportHeight()/2)-(B.scaledHeight/2)+YAHOO.util.Dom.getDocumentScrollTop()-SSLightbox.LIGHTBOX_BORDER_WIDTH-(this.showDescriptions?(SSLightbox.descriptionBox.offsetHeight/3):0)];if(SSLightbox.lightboxMode==SSLightbox.LIGHTBOX_MODE_JAVASCRIPT){if(!SSLightbox.isFirstImage()){if(YAHOO.util.Dom.getStyle("sslightbox_previmg","display")=="none"){YAHOO.util.Dom.setStyle("sslightbox_previmg","display","block");YAHOO.util.Dom.setStyle("sslightbox_previmg","opacity","0");if(YAHOO.env.ua.ie>=9){SSLightbox.ie9OpacityOverride=true;}}YAHOO.util.Dom.setY("sslightbox_previmg",parseInt(YAHOO.util.Dom.getViewportHeight()/2)-(parseInt(YAHOO.util.Dom.getStyle(YAHOO.util.Dom.get("sslightbox_previmg"),"height"))/2)+YAHOO.util.Dom.getDocumentScrollTop());if((YAHOO.util.Dom.getStyle("sslightbox_previmg","opacity")=="0")||SSLightbox.ie9OpacityOverride){var H=new YAHOO.util.Anim("sslightbox_previmg",{opacity:{to:SSLightbox.ARROW_INACTIVE_OPACITY}},SSLightbox.LIGHTBOX_DISPLAY_SPEED);H.onStart.subscribe(function(){YAHOO.util.Dom.setStyle("sslightbox_previmg","display","block");});H.animate();}}else{var H=new YAHOO.util.Anim("sslightbox_previmg",{opacity:{to:0}},SSLightbox.LIGHTBOX_DISPLAY_SPEED);H.onComplete.subscribe(function(){YAHOO.util.Dom.setStyle("sslightbox_previmg","display","none");});H.animate();}if(!SSLightbox.isLastImage()){if(YAHOO.util.Dom.getStyle("sslightbox_nextimg","display")=="none"){YAHOO.util.Dom.setStyle("sslightbox_nextimg","display","block");YAHOO.util.Dom.setStyle("sslightbox_nextimg","opacity","0");if(YAHOO.env.ua.ie>=9){SSLightbox.ie9OpacityOverride=true;}}YAHOO.util.Dom.setY("sslightbox_nextimg",parseInt(YAHOO.util.Dom.getViewportHeight()/2)-(parseInt(YAHOO.util.Dom.getStyle(YAHOO.util.Dom.get("sslightbox_nextimg"),"height"))/2)+YAHOO.util.Dom.getDocumentScrollTop());if((YAHOO.util.Dom.getStyle("sslightbox_nextimg","opacity")=="0")||SSLightbox.ie9OpacityOverride){var H=new YAHOO.util.Anim("sslightbox_nextimg",{opacity:{to:SSLightbox.ARROW_INACTIVE_OPACITY}},SSLightbox.LIGHTBOX_DISPLAY_SPEED);H.onStart.subscribe(function(){YAHOO.util.Dom.setStyle("sslightbox_nextimg","display","block");});H.animate();}}else{var H=new YAHOO.util.Anim("sslightbox_nextimg",{opacity:{to:0}},SSLightbox.LIGHTBOX_DISPLAY_SPEED);H.onComplete.subscribe(function(){YAHOO.util.Dom.setStyle("sslightbox_nextimg","display","none");});H.animate();}}SSLightbox.ieBackgroundFix(document.getElementById("sslightbox_img"),false);YAHOO.util.Dom.setStyle("sslightbox_loadimg","display","none");YAHOO.util.Dom.setStyle("sslightbox_img","height",B.scaledHeight+"px");YAHOO.util.Dom.setStyle("sslightbox_img","width",B.scaledWidth+"px");if(SSLightbox.currentImgHolderAnimation){SSLightbox.currentImgHolderAnimation.stop();}var H=new YAHOO.util.Motion("sslightbox_imgholder",{width:{to:(B.scaledWidth+SSLightbox.LIGHTBOX_BORDER_WIDTH*2)},height:{to:(B.scaledHeight+SSLightbox.LIGHTBOX_BORDER_WIDTH*2)},points:{to:I}},SSLightbox.LIGHTBOX_DISPLAY_SPEED,YAHOO.util.Easing.easeOutStrong);H.onComplete.subscribe(function(){SSLightbox.ieBackgroundFix(document.getElementById("sslightbox_img"),true);YAHOO.util.Dom.setStyle("sslightbox_imgwrapper","display","block");YAHOO.util.Dom.setStyle("sslightbox_imgwrapper","width",B.scaledWidth+"px");YAHOO.util.Dom.setStyle("sslightbox_imgwrapper","height",B.scaledHeight+"px");YAHOO.util.Dom.setStyle("sslightbox_img","display","block");new YAHOO.util.Anim("sslightbox_img",{opacity:{to:1}},SSLightbox.LIGHTBOX_DISPLAY_SPEED).animate();});H.animate();this.isLoaded=true;this.preloadNeighbors(C);if(this.showTitles){YAHOO.util.Dom.setXY(SSLightbox.titleBox,[I[0],I[1]-SSLightbox.titleBox.offsetHeight-10]);new YAHOO.util.Anim(SSLightbox.titleBox,{opacity:{to:1}},SSLightbox.LIGHTBOX_DISPLAY_SPEED).animate();}if(this.showDescriptions){var G=(D.getViewportWidth()-I[0]-SSLightbox.DESC_MIN_WIDTH);if(G>0){G=0;}YAHOO.util.Dom.setXY(SSLightbox.descriptionBox,[I[0]+G,I[1]+B.scaledHeight+(SSLightbox.LIGHTBOX_BORDER_WIDTH*2)+15]);new YAHOO.util.Anim(SSLightbox.descriptionBox,{opacity:{to:1}},SSLightbox.LIGHTBOX_DISPLAY_SPEED).animate();}}else{this.retrieveImage(C);}},scaleImage:function(F){var B=F.rawObject;var A=0;if(this.showTitles){A+=SSLightbox.titleBox.offsetHeight;}if(this.showDescriptions){A+=(SSLightbox.LIGHTBOX_BORDER_WIDTH*2)+15+SSLightbox.descriptionBox.offsetHeight;}var C=((YAHOO.util.Dom.getViewportWidth()-B.width)<(YAHOO.util.Dom.getViewportHeight()-B.height)?"W":"H");if(C=="H"&&B.height+(SSLightbox.LIGHTBOX_BORDER_WIDTH*2)>YAHOO.util.Dom.getViewportHeight()-100-A){B.scaledHeight=YAHOO.util.Dom.getViewportHeight()-100-A;B.scaledWidth=B.width*(B.scaledHeight/B.height);}else{if(C=="W"&&B.width+(SSLightbox.LIGHTBOX_BORDER_WIDTH*2)>YAHOO.util.Dom.getViewportWidth()-180){B.scaledWidth=YAHOO.util.Dom.getViewportWidth()-180;B.scaledHeight=B.height*(B.scaledWidth/B.width);}else{B.scaledWidth=B.width;B.scaledHeight=B.height;}}},retrieveImage:function(A){if(typeof (A)!="undefined"&&A.rawObject==null&&A.isFullImgLoading==false){A.isFullImgLoading=true;var B=document.createElement("img");B.style.position="absolute";B.style.left="-10000px";B.style.top="0px";document.body.appendChild(B);B.onload=function(C){A.rawObject=B;if(Squarespace.URL.removeDirectUrlPrefix(this.src)==Squarespace.URL.removeDirectUrlPrefix(SSLightbox.currentLightboxPhoto.imgFullUrl)){SSLightbox.presentImage(SSLightbox.currentLightboxPhoto);}};B.src=A.imgFullUrl;}},preloadNeighbors:function(A){if(A.realIndex!=0){this.retrieveImage(SSLightbox.photosByIndex[A.realIndex-1]);}if(A.realIndex!=SSLightbox.maxIndex-1){this.retrieveImage(SSLightbox.photosByIndex[A.realIndex+1]);}},getContainedImg:function(F){var A=null;var B=F.getElementsByTagName("img");for(var C=0;C<B.length;++C){return(B[C]);}return(null);},loadLightboxImage:function(F,B){var A=document.getElementsByTagName("html")[0];D.setStyle(A,"overflow","hidden");YAHOO.util.Dom.setStyle("sslightbox_img","display","none");YAHOO.util.Dom.setStyle("sslightbox_img","opacity","0");if(!B){YAHOO.util.Event.stopEvent(F);B=SSLightbox.photosByLinkHref[SSLightbox.urlFix(this.href)];}if(SSLightbox.mainImageClick==SSLightbox.MAIN_IMAGE_POPUP_WINDOW){window.open(B.popupUrl,"viewimg"+B.realIndex);return ;}SSLightbox.currentLightboxPhoto=B;var C=new YAHOO.util.Anim("sslightbox_overlay",{opacity:{to:1}},SSLightbox.LIGHTBOX_DISPLAY_SPEED);C.onStart.subscribe(function(){YAHOO.util.Dom.setStyle("sslightbox_overlay","display","block");YAHOO.util.Dom.setStyle("sslightbox_overlay","height",YAHOO.util.Dom.getDocumentHeight()+"px");});C.animate();var C=new YAHOO.util.Anim("sslightbox_imgholder",{opacity:{to:1}},SSLightbox.LIGHTBOX_DISPLAY_SPEED);C.onStart.subscribe(function(){YAHOO.util.Dom.setStyle("sslightbox_imgholder","display","block");});C.onComplete.subscribe(function(){if(!SSLightbox.isLoaded){YAHOO.util.Dom.setStyle("sslightbox_loadimg","opacity","1");YAHOO.util.Dom.setStyle("sslightbox_loadimg","display","block");YAHOO.util.Dom.setXY("sslightbox_loadimg",[parseInt(YAHOO.util.Dom.getViewportWidth()/2)-(parseInt(YAHOO.util.Dom.getStyle(YAHOO.util.Dom.get("sslightbox_loadimg"),"width"))/2)+YAHOO.util.Dom.getDocumentScrollLeft(),parseInt(YAHOO.util.Dom.getViewportHeight()/2)-(parseInt(YAHOO.util.Dom.getStyle(YAHOO.util.Dom.get("sslightbox_loadimg"),"height"))/2)+YAHOO.util.Dom.getDocumentScrollTop()]);}});C.animate();SSLightbox.currentImgHolderAnimation=new YAHOO.util.Motion("sslightbox_imgholder",{points:{to:[parseInt(YAHOO.util.Dom.getViewportWidth()/2)-(parseInt(YAHOO.util.Dom.getStyle(YAHOO.util.Dom.get("sslightbox_imgholder"),"width"))/2)+YAHOO.util.Dom.getDocumentScrollLeft(),parseInt(YAHOO.util.Dom.getViewportHeight()/2)-(parseInt(YAHOO.util.Dom.getStyle(YAHOO.util.Dom.get("sslightbox_imgholder"),"height"))/2)+YAHOO.util.Dom.getDocumentScrollTop()]}},SSLightbox.LIGHTBOX_DISPLAY_SPEED);SSLightbox.currentImgHolderAnimation.animate();SSLightbox.isLoaded=false;SSLightbox.presentImage(B);return false;},close:function(){var A=document.getElementsByTagName("html")[0];D.setStyle(A,"overflow","auto");SSLightbox.currentLightboxPhoto=null;var B=new YAHOO.util.Anim("sslightbox_overlay",{opacity:{to:0}},SSLightbox.LIGHTBOX_DISPLAY_SPEED);B.onStart.subscribe(function(){YAHOO.util.Dom.setStyle("sslightbox_loadimg","display","none");});B.onComplete.subscribe(function(){YAHOO.util.Dom.setStyle("sslightbox_overlay","display","none");});B.animate();var B=new YAHOO.util.Anim("sslightbox_imgholder",{opacity:{to:0}},SSLightbox.LIGHTBOX_DISPLAY_SPEED);B.onComplete.subscribe(function(){YAHOO.util.Dom.setStyle("sslightbox_imgholder","display","none");});B.animate();var B=new YAHOO.util.Anim("sslightbox_previmg",{opacity:{to:0}},SSLightbox.LIGHTBOX_DISPLAY_SPEED);B.onComplete.subscribe(function(){YAHOO.util.Dom.setStyle("sslightbox_previmg","display","none");});B.animate();var B=new YAHOO.util.Anim("sslightbox_nextimg",{opacity:{to:0}},SSLightbox.LIGHTBOX_DISPLAY_SPEED);B.onComplete.subscribe(function(){YAHOO.util.Dom.setStyle("sslightbox_nextimg","display","none");});B.animate();var B=new YAHOO.util.Anim([SSLightbox.descriptionBox,SSLightbox.titleBox],{opacity:{to:0}},SSLightbox.LIGHTBOX_DISPLAY_SPEED);B.onComplete.subscribe(function(){YAHOO.util.Dom.setStyle([SSLightbox.descriptionBox,SSLightbox.titleBox],"display","none");});B.animate();}};YAHOO.util.Event.addListener(window,"load",function(){SSLightbox.init();var B=document.getElementsByTagName("a");for(var A=0;A<B.length;++A){if(B[A].rel&&B[A].rel=="sslightbox"){B[A].href="javascript:showImage('"+B[A].href+"');";}}});function showImage(B){var A=new Object();A.imgFullUrl=B;A.rawObject=null;A.isFullImgLoading=false;SSLightbox.loadLightboxImage(null,A);}if((YAHOO.env.ua.ie>0)&&Squarespace.Lightbox.ieOpacityHack){Squarespace.CSS.appendCss(".thumbnail-wrapper-fixed { background-color: #000; cursor: hand; }");}SSLightbox=Squarespace.Lightbox;